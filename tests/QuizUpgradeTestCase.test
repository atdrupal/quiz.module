<?php

class QuizUpgradeTestCase extends UpdatePathTestCase {

  public static function getInfo() {
    return array(
        'name'        => t('Quiz upgrade'),
        'description' => t('Test an upgrade from various Quiz versions.'),
        'group'       => t('Quiz'),
    );
  }

  /**
   * We have a modified set up here, so that we can run multiple upgrade tests.
   */
  public function setUp() {
    $this->databaseDumpFiles = array(drupal_get_path('module', 'quiz') . '/tests/upgrade/quiz-5x.php.gz');
    parent::setUp();
    module_enable(array('ctools', 'entity', 'filter', 'views', 'views_bulk_operations', 'xautoload'));
    $this->loadedModules = module_list();
  }

  public function testOk() {
    $this->assertTrue($this->performUpgrade(), 'The update was completed successfully.');
  }

}
